{% extends 'base.html' %}

{% block content %}
<h1>Homepage Loaded</h1>
<p>Categories: {{ categories|length }}</p>
<div>
    <label for="category">Kategori</label>
    <select id="category">
        <option value="">Select Category</option>
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>

    <label for="subcategory">Nama Subkategori</label>
    <select id="subcategory">
        <option value="">Select Subcategory</option>
        {% for category in categories %}
            {% for subcategory in category.subcategories.all %}
                <option value="{{ subcategory.id }}">{{ subcategory.name }}</option>
            {% endfor %}
        {% endfor %}
    </select>

    <input type="text" placeholder="Search" />
    <button type="button">Search</button>
</div>

<div>
    {% for category in categories %}
        <h2>{{ category.name }}</h2>
        <ul>
            {% for subcategory in category.subcategories.all %}
                <li><a href="{% url 'subcategory_detail' subcategory.id %}">{{ subcategory.name }}</a></li>
            {% endfor %}
        </ul>
    {% endfor %}
</div>
{% endblock %} 